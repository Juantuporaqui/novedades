<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SIREX · Grupo 4 Operativo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link rel="stylesheet" href="../css/grupo4.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;400&display=swap" rel="stylesheet">
</head>
<body>
  <header class="header">
    <div class="header-icon" aria-hidden="true"><span>📁</span></div>
    <div class="header-title">
      <span class="brand">SIREX</span>
      <span class="subtitle">· Grupo 4 Operativo</span>
    </div>
    <div class="header-actions">
      <button class="btn-menu" onclick="window.location.href='../index.html'" title="Menú principal" aria-label="Menú principal">🏠</button>
      <button class="btn-menu" id="btnDarkMode" title="Modo oscuro / claro" aria-label="Modo Oscuro/Claro">🌙</button>
      <button class="btn-menu" id="btnBuscar" title="Buscar registros" aria-label="Buscar registros">🔎</button>
    </div>
  </header>

  <section id="statusFirebase" aria-live="polite"></section>

  <main>
    <section class="registro-bar">
      <label for="fechaRegistro">Fecha del registro</label>
      <input type="date" id="fechaRegistro" required>
      <button type="button" class="btn-secundario" id="btnCargar" title="Cargar registro">Cargar</button>
      <button type="button" class="btn-secundario" id="btnNuevo" title="Nuevo registro">Nuevo</button>
      <button type="button" class="btn-principal" id="btnGuardar" title="Guardar registro">Guardar</button>
      <button type="button" class="btn-eliminar" id="btnEliminar" title="Eliminar registro">Eliminar</button>
    </section>

    <!-- CAMPOS NUMÉRICOS PRINCIPALES EN FILA COMPACTA -->
    <section class="panel-seccion">
      <div class="input-row" style="flex-wrap: wrap; gap: 18px;">
        <div>
          <label for="numDetenidos"><b>Nº Detenidos</b></label>
          <input type="number" id="numDetenidos" min="0" style="width:70px">
        </div>
        <div>
          <label for="identificados"><b>Identificados</b></label>
          <input type="number" id="identificados" min="0" style="width:70px">
        </div>
        <div>
          <label for="citadosCecorex"><b>Citados Cecorex</b></label>
          <input type="number" id="citadosCecorex" min="0" style="width:70px">
        </div>
        <div>
          <label for="citadosUcrif"><b>Citados UCRIF</b></label>
          <input type="number" id="citadosUcrif" min="0" style="width:70px">
        </div>
      </div>
    </section>

    <!-- DETENIDOS DETALLADOS -->
    <section class="panel-seccion">
      <h2>Listado de Detenidos</h2>
      <div class="input-row">
        <input type="text" id="detenidoMotivo" placeholder="Motivo/diligencia" autocomplete="off">
        <input type="text" id="detenidoNacionalidad" placeholder="Nacionalidad" autocomplete="off">
        <input type="text" id="detenidoDiligencias" placeholder="Diligencias" autocomplete="off">
        <input type="text" id="detenidoObservaciones" placeholder="Observaciones" autocomplete="off">
        <button type="button" class="btn-add" id="btnAddDetenido" title="Agregar detenido">+</button>
      </div>
      <ul id="listaDetenidos" class="lista"></ul>
    </section>

    <!-- COLABORACIONES -->
    <section class="panel-seccion">
      <h2>Colaboraciones</h2>
      <div class="input-row">
        <input type="text" id="colaboracionUnidad" placeholder="Unidad" autocomplete="off">
        <input type="text" id="colaboracionResultado" placeholder="Resultado" autocomplete="off">
        <button type="button" class="btn-add" id="btnAddColaboracion" title="Agregar colaboración">+</button>
      </div>
      <ul id="listaColaboraciones" class="lista"></ul>
    </section>

    <!-- INSPECCIONES DE TRABAJO -->
    <section class="panel-seccion">
      <h2>Inspecciones de Trabajo</h2>
      <div class="input-row">
        <input type="text" id="inspeccionTrabajo" placeholder="Inspección realizada" autocomplete="off">
        <input type="text" id="inspeccionLugar" placeholder="Lugar" autocomplete="off">
        <input type="text" id="inspeccionResultado" placeholder="Resultado" autocomplete="off">
        <button type="button" class="btn-add" id="btnAddInspeccion" title="Agregar inspección">+</button>
      </div>
      <ul id="listaInspecciones" class="lista"></ul>
    </section>

    <!-- GESTIONES VARIAS -->
    <section class="panel-seccion">
      <h2>Gestiones Varias</h2>
      <div class="input-row">
        <input type="text" id="gestionDescripcion" placeholder="Descripción gestión" autocomplete="off" style="min-width:220px">
        <button type="button" class="btn-add" id="btnAddGestion" title="Agregar gestión">+</button>
      </div>
      <ul id="listaGestiones" class="lista"></ul>
    </section>

    <!-- OBSERVACIONES -->
    <section class="panel-seccion">
      <h2>Observaciones generales</h2>
      <textarea id="observaciones" rows="2" placeholder="Observaciones, incidencias..." aria-label="Observaciones"></textarea>
    </section>

    <section id="panelResumen" class="panel-seccion" style="display:none;">
      <h2>Resumen del registro</h2>
      <div id="resumenRegistro"></div>
    </section>

    <!-- Resumen por rango de fechas -->
    <section class="panel panel-glass mt-4">
      <h3>Resumen por rango de fechas</h3>
      <div class="row-cols">
        <label for="resumenDesde">Desde</label>
        <input type="date" id="resumenDesde" class="form-control input-date">
        <label for="resumenHasta">Hasta</label>
        <input type="date" id="resumenHasta" class="form-control input-date">
        <button type="button" class="btn-guardar" id="btnResumenFechas">Mostrar Resumen</button>
      </div>
      <div id="divResumenFechas"></div>
      <div style="margin-top: 14px; display: flex; flex-wrap: wrap; gap: 14px;">
        <button type="button" class="btn-pdf" id="btnExportarPDF">Exportar PDF</button>
        <button type="button" class="btn-pdf" id="btnExportarCSV">Exportar CSV</button>
        <button type="button" class="btn-guardar" id="btnWhatsapp">Resumen WhatsApp</button>
      </div>
    </section>
  </main>

  <footer>
    SIREX · Grupo 4 Operativo &copy; 2025
  </footer>
  <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore-compat.js"></script>
  <script src="../js/grupo4.js" defer></script>
</body>
</html>
