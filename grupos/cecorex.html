<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SIREX · CECOREX · Coordinación</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/cecorex.css">
</head>
<body>
  <header class="cecorex-header">
    <img src="../img/logo_cnp.png" alt="CNP" class="logo-cnp">
    <div class="titulo-header">
      <span class="titulo-main">SIREX · CECOREX</span>
      <span class="titulo-desc">Coordinación y Estadística</span>
    </div>
    <button class="btn-menu" onclick="window.location.href='../index.html'">&larr; Menú</button>
  </header>

  <main>
    <section class="panel panel-glass">
      <div class="botonera">
        <select id="registroSelect" class="form-control" title="Seleccionar un registro existente"></select>
        <input type="date" id="fechaRegistro" required class="form-control" title="Fecha del registro a cargar o guardar">
        <button type="button" class="btn-azul" id="btnBuscar" title="Cargar registro de la fecha seleccionada"><i class="bi bi-search"></i> Cargar</button>
        <button type="button" class="btn-gris" id="btnNuevo" title="Limpiar formulario para un nuevo registro"><i class="bi bi-plus-circle"></i> Nuevo</button>
      </div>

      <form id="cecorexForm" autocomplete="off">
        
        <section class="sub-panel">
          <h2 class="sub-panel-titulo">Contadores Principales</h2>
          <div class="grid-counters">
            <div class="input-group">
              <label for="turno">Turno</label>
              <select id="turno" class="form-control" required>
                <option value="">--Seleccione--</option>
                <option>Mañana</option>
                <option>Tarde</option>
                <option>Noche</option>
              </select>
            </div>
            <div class="input-group">
              <label for="citados">Citados</label>
              <input type="number" id="citados" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="notificaciones">Notificaciones</label>
                <input type="number" id="notificaciones" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="remisiones">Remisiones Subdelegación</label>
                <input type="number" id="remisiones" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="alegaciones">Alegaciones Abogados</label>
                <input type="number" id="alegaciones" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="decretos">Decretos Expulsión</label>
                <input type="number" id="decretos" class="form-control" value="0">
            </div>
             <div class="input-group">
                <label for="prohibiciones">Prohibiciones Entrada</label>
                <input type="number" id="prohibiciones" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="audiencias">Trámites Audiencia</label>
                <input type="number" id="audiencias" class="form-control" value="0">
            </div>
            <div class="input-group">
                <label for="oficios">Oficios Juzgado</label>
                <input type="number" id="oficios" class="form-control" value="0">
            </div>
          </div>
        </section>

        <section class="sub-panel">
            <h2 class="sub-panel-titulo">Detenidos e Incoaciones</h2>
            <div id="detenido-adder" class="adder-form">
                <input type="text" id="detenidoNacionalidad" placeholder="Nacionalidad" class="form-control">
                <input type="text" id="detenidoMotivo" placeholder="Motivo (ILE, Hurto...)" class="form-control">
                <input type="text" id="detenidoGrupo" placeholder="Grupo/Lugar (K-Centro...)" class="form-control">
                <input type="text" id="detenidoResultado" placeholder="Resultado (Libertad, CIE...)" class="form-control">
                <button type="button" id="btnAddDetenido" class="btn-add">➕ Añadir</button>
            </div>
            <div id="listaDetenidos" class="dynamic-list"></div>
        </section>

        <section class="sub-panel">
          <h2 class="sub-panel-titulo">Consultas y Diligencias</h2>
          <div class="grid-counters">
              <div class="input-group">
                  <label for="consultasTel">Consultas Telefónicas</label>
                  <input type="number" id="consultasTel" class="form-control" value="0">
              </div>
              <div class="input-group">
                  <label for="consultasEquipo">Consultas por Equipo</label>
                  <input type="number" id="consultasEquipo" class="form-control" value="0">
              </div>
              <div class="input-group">
                  <label for="diligenciasInforme">Diligencias de Informe</label>
                  <input type="number" id="diligenciasInforme" class="form-control" value="0">
              </div>
          </div>
        </section>

        <section class="sub-panel">
          <h2 class="sub-panel-titulo">CIEs y MENAs</h2>
           <div class="grid-counters">
                <div class="input-group">
                    <label for="ciesConcedidos">Solicitudes CIE Concedidas</label>
                    <input type="number" id="ciesConcedidos" class="form-control" value="0">
                </div>
                <div class="input-group">
                    <label for="ciesDenegados">Solicitudes CIE Denegadas</label>
                    <input type="number" id="ciesDenegados" class="form-control" value="0">
                </div>
                <div class="input-group">
                    <label for="menas">MENAs gestionados</label>
                    <input type="number" id="menas" class="form-control" value="0">
                </div>
           </div>
        </section>

        <section class="sub-panel">
          <h2 class="sub-panel-titulo">Observaciones y Tareas</h2>
          <div class="input-group">
            <label for="observaciones">Observaciones / Incidencias</label>
            <textarea id="observaciones" class="form-control"></textarea>
          </div>
          <div class="input-group">
            <label for="adjuntos">Documentos/Imágenes</label>
            <input type="file" id="adjuntos" class="form-control" multiple>
          </div>
          <div class="input-group">
            <label for="tareaPendiente"><b>¿Queda alguna tarea pendiente?</b></label>
            <select id="tareaPendiente" class="form-control">
              <option>No</option>
              <option>Sí</option>
            </select>
          </div>
        </section>

        <div class="submit-wrapper">
          <button type="submit" class="btn-verde"><i class="bi bi-save2"></i> Guardar Registro Completo</button>
        </div>
      </form>
    </section>

    <section class="panel panel-glass" id="panelResumen" style="display:none;">
      <h3>Resumen del Día</h3>
      <div id="resumen"></div>
    </section>

  </main>
  <footer class="footer">
    SIREX · CECOREX &copy; 2025
  </footer>

  <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore-compat.js"></script>
  <script src="../js/cecorex.js"></script>
</body>
</html>
